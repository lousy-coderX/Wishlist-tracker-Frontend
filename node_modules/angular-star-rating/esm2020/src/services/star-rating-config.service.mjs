/**
 * Configuration service for the StarRating component.
 * You can inject this service, typically in your root component, and customize the values of its properties in
 * order to provide default values for all the star ratings used in the application.
 */
export class StarRatingConfigService {
    constructor() {
        this._classEmpty = 'default-star-empty-icon';
        this._classHalf = 'default-star-half-icon';
        this._classFilled = 'default-star-filled-icon';
        this._numOfStars = 5;
        this._size = 'medium';
        this._labelPosition = 'left';
        this._speed = 'noticeable';
        this._starType = 'svg';
        this._assetsPath = 'assets/images/';
        this._svgPath = this.assetsPath + 'star-rating.icons.svg';
        this._svgEmptySymbolId = 'star-empty';
        this._svgHalfSymbolId = 'star-half';
        this._svgFilledSymbolId = 'star-filled';
        this._svgPathEmpty = this.svgPath + '#' + this.svgEmptySymbolId;
        this._svgPathHalf = this.svgPath + '#' + this.svgHalfSymbolId;
        this._svgPathFilled = this.svgPath + '#' + this.svgFilledSymbolId;
    }
    get classEmpty() {
        return this._classEmpty;
    }
    set classEmpty(classEmpty) {
        this._classEmpty = classEmpty;
    }
    get classHalf() {
        return this._classHalf;
    }
    set classHalf(classHalf) {
        this._classHalf = classHalf;
    }
    get classFilled() {
        return this._classFilled;
    }
    set classFilled(classFilled) {
        this._classFilled = classFilled;
    }
    get numOfStars() {
        return this._numOfStars;
    }
    set numOfStars(numOfStars) {
        this._numOfStars = numOfStars;
    }
    get size() {
        return this._size;
    }
    set size(size) {
        this._size = size;
    }
    get staticColor() {
        return this._staticColor;
    }
    set staticColor(value) {
        this._staticColor = value;
    }
    get labelPosition() {
        return this._labelPosition;
    }
    set labelPosition(labelPosition) {
        this._labelPosition = labelPosition;
    }
    get speed() {
        return this._speed;
    }
    set speed(speed) {
        this._speed = speed;
    }
    get starType() {
        return this._starType;
    }
    set starType(starType) {
        this._starType = starType;
    }
    get assetsPath() {
        return this._assetsPath;
    }
    set assetsPath(assetsPath) {
        this._assetsPath = assetsPath;
    }
    get svgPath() {
        return this._svgPath;
    }
    set svgPath(svgPath) {
        this._svgPath = svgPath;
    }
    get svgEmptySymbolId() {
        return this._svgEmptySymbolId;
    }
    set svgEmptySymbolId(svgEmptySymbolId) {
        this._svgEmptySymbolId = svgEmptySymbolId;
    }
    get svgHalfSymbolId() {
        return this._svgHalfSymbolId;
    }
    set svgHalfSymbolId(svgHalfSymbolId) {
        this._svgHalfSymbolId = svgHalfSymbolId;
    }
    get svgFilledSymbolId() {
        return this._svgFilledSymbolId;
    }
    set svgFilledSymbolId(svgFilledSymbolId) {
        this._svgFilledSymbolId = svgFilledSymbolId;
    }
    get svgPathEmpty() {
        return this._svgPathEmpty;
    }
    set svgPathEmpty(svgPathEmpty) {
        this._svgPathEmpty = svgPathEmpty;
    }
    get svgPathHalf() {
        return this._svgPathHalf;
    }
    set svgPathHalf(svgPathHalf) {
        this._svgPathHalf = svgPathHalf;
    }
    get svgPathFilled() {
        return this._svgPathFilled;
    }
    set svgPathFilled(svgPathFilled) {
        this._svgPathFilled = svgPathFilled;
    }
    getColor(rating, numOfStars, staticColor) {
        rating = rating || 0;
        // if a fix color is set use this one
        if (staticColor) {
            return staticColor;
        }
        // calculate size of smallest fraction
        const fractionSize = numOfStars / 3;
        // apply color by fraction
        let color = 'default';
        if (rating > 0) {
            color = 'negative';
        }
        if (rating > fractionSize) {
            color = 'ok';
        }
        if (rating > fractionSize * 2) {
            color = 'positive';
        }
        return color;
    }
    getHalfStarVisible(rating) {
        return Math.abs(rating % 1) > 0;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3Rhci1yYXRpbmctY29uZmlnLnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9saWJzL2FuZ3VsYXItc3Rhci1yYXRpbmcvc3JjL3NlcnZpY2VzL3N0YXItcmF0aW5nLWNvbmZpZy5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVNBOzs7O0dBSUc7QUFDSCxNQUFNLE9BQU8sdUJBQXVCO0lBQXBDO1FBQ0UsZ0JBQVcsR0FBRyx5QkFBeUIsQ0FBQztRQVVoQyxlQUFVLEdBQUcsd0JBQXdCLENBQUM7UUFVdEMsaUJBQVksR0FBRywwQkFBMEIsQ0FBQztRQVUxQyxnQkFBVyxHQUFHLENBQUMsQ0FBQztRQVVoQixVQUFLLEdBQW9CLFFBQVEsQ0FBQztRQW9CbEMsbUJBQWMsR0FBNEIsTUFBTSxDQUFDO1FBVWpELFdBQU0sR0FBb0IsWUFBWSxDQUFDO1FBVXZDLGNBQVMsR0FBd0IsS0FBSyxDQUFDO1FBVXZDLGdCQUFXLEdBQUcsZ0JBQWdCLENBQUM7UUFVL0IsYUFBUSxHQUFHLElBQUksQ0FBQyxVQUFVLEdBQUcsdUJBQXVCLENBQUM7UUFVckQsc0JBQWlCLEdBQUcsWUFBWSxDQUFDO1FBVWpDLHFCQUFnQixHQUFHLFdBQVcsQ0FBQztRQVUvQix1QkFBa0IsR0FBRyxhQUFhLENBQUM7UUFVbkMsa0JBQWEsR0FBVyxJQUFJLENBQUMsT0FBTyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7UUFVbkUsaUJBQVksR0FBVyxJQUFJLENBQUMsT0FBTyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDO1FBVWpFLG1CQUFjLEdBQVcsSUFBSSxDQUFDLE9BQU8sR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDO0lBMkMvRSxDQUFDO0lBek1DLElBQUksVUFBVTtRQUNaLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUMxQixDQUFDO0lBRUQsSUFBSSxVQUFVLENBQUMsVUFBa0I7UUFDL0IsSUFBSSxDQUFDLFdBQVcsR0FBRyxVQUFVLENBQUM7SUFDaEMsQ0FBQztJQUlELElBQUksU0FBUztRQUNYLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUN6QixDQUFDO0lBRUQsSUFBSSxTQUFTLENBQUMsU0FBaUI7UUFDN0IsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7SUFDOUIsQ0FBQztJQUlELElBQUksV0FBVztRQUNiLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQztJQUMzQixDQUFDO0lBRUQsSUFBSSxXQUFXLENBQUMsV0FBbUI7UUFDakMsSUFBSSxDQUFDLFlBQVksR0FBRyxXQUFXLENBQUM7SUFDbEMsQ0FBQztJQUlELElBQUksVUFBVTtRQUNaLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUMxQixDQUFDO0lBRUQsSUFBSSxVQUFVLENBQUMsVUFBa0I7UUFDL0IsSUFBSSxDQUFDLFdBQVcsR0FBRyxVQUFVLENBQUM7SUFDaEMsQ0FBQztJQUlELElBQUksSUFBSTtRQUNOLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUNwQixDQUFDO0lBRUQsSUFBSSxJQUFJLENBQUMsSUFBcUI7UUFDNUIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7SUFDcEIsQ0FBQztJQUlELElBQUksV0FBVztRQUNiLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQztJQUMzQixDQUFDO0lBRUQsSUFBSSxXQUFXLENBQUMsS0FBc0I7UUFDcEMsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7SUFDNUIsQ0FBQztJQUlELElBQUksYUFBYTtRQUNmLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQztJQUM3QixDQUFDO0lBRUQsSUFBSSxhQUFhLENBQUMsYUFBc0M7UUFDdEQsSUFBSSxDQUFDLGNBQWMsR0FBRyxhQUFhLENBQUM7SUFDdEMsQ0FBQztJQUlELElBQUksS0FBSztRQUNQLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUNyQixDQUFDO0lBRUQsSUFBSSxLQUFLLENBQUMsS0FBc0I7UUFDOUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7SUFDdEIsQ0FBQztJQUlELElBQUksUUFBUTtRQUNWLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUN4QixDQUFDO0lBRUQsSUFBSSxRQUFRLENBQUMsUUFBNkI7UUFDeEMsSUFBSSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7SUFDNUIsQ0FBQztJQUlELElBQUksVUFBVTtRQUNaLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUMxQixDQUFDO0lBRUQsSUFBSSxVQUFVLENBQUMsVUFBa0I7UUFDL0IsSUFBSSxDQUFDLFdBQVcsR0FBRyxVQUFVLENBQUM7SUFDaEMsQ0FBQztJQUlELElBQUksT0FBTztRQUNULE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN2QixDQUFDO0lBRUQsSUFBSSxPQUFPLENBQUMsT0FBZTtRQUN6QixJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQztJQUMxQixDQUFDO0lBSUQsSUFBSSxnQkFBZ0I7UUFDbEIsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUM7SUFDaEMsQ0FBQztJQUVELElBQUksZ0JBQWdCLENBQUMsZ0JBQXdCO1FBQzNDLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxnQkFBZ0IsQ0FBQztJQUM1QyxDQUFDO0lBSUQsSUFBSSxlQUFlO1FBQ2pCLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDO0lBQy9CLENBQUM7SUFFRCxJQUFJLGVBQWUsQ0FBQyxlQUF1QjtRQUN6QyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsZUFBZSxDQUFDO0lBQzFDLENBQUM7SUFJRCxJQUFJLGlCQUFpQjtRQUNuQixPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztJQUNqQyxDQUFDO0lBRUQsSUFBSSxpQkFBaUIsQ0FBQyxpQkFBeUI7UUFDN0MsSUFBSSxDQUFDLGtCQUFrQixHQUFHLGlCQUFpQixDQUFDO0lBQzlDLENBQUM7SUFJRCxJQUFJLFlBQVk7UUFDZCxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUM7SUFDNUIsQ0FBQztJQUVELElBQUksWUFBWSxDQUFDLFlBQW9CO1FBQ25DLElBQUksQ0FBQyxhQUFhLEdBQUcsWUFBWSxDQUFDO0lBQ3BDLENBQUM7SUFJRCxJQUFJLFdBQVc7UUFDYixPQUFPLElBQUksQ0FBQyxZQUFZLENBQUM7SUFDM0IsQ0FBQztJQUVELElBQUksV0FBVyxDQUFDLFdBQW1CO1FBQ2pDLElBQUksQ0FBQyxZQUFZLEdBQUcsV0FBVyxDQUFDO0lBQ2xDLENBQUM7SUFJRCxJQUFJLGFBQWE7UUFDZixPQUFPLElBQUksQ0FBQyxjQUFjLENBQUM7SUFDN0IsQ0FBQztJQUVELElBQUksYUFBYSxDQUFDLGFBQXFCO1FBQ3JDLElBQUksQ0FBQyxjQUFjLEdBQUcsYUFBYSxDQUFDO0lBQ3RDLENBQUM7SUFFRCxRQUFRLENBQ04sTUFBYyxFQUNkLFVBQWtCLEVBQ2xCLFdBQTZCO1FBRTdCLE1BQU0sR0FBRyxNQUFNLElBQUksQ0FBQyxDQUFDO1FBRXJCLHFDQUFxQztRQUNyQyxJQUFJLFdBQVcsRUFBRTtZQUNmLE9BQU8sV0FBVyxDQUFDO1NBQ3BCO1FBRUQsc0NBQXNDO1FBQ3RDLE1BQU0sWUFBWSxHQUFHLFVBQVUsR0FBRyxDQUFDLENBQUM7UUFFcEMsMEJBQTBCO1FBQzFCLElBQUksS0FBSyxHQUFvQixTQUFTLENBQUM7UUFDdkMsSUFBSSxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQ2QsS0FBSyxHQUFHLFVBQVUsQ0FBQztTQUNwQjtRQUNELElBQUksTUFBTSxHQUFHLFlBQVksRUFBRTtZQUN6QixLQUFLLEdBQUcsSUFBSSxDQUFDO1NBQ2Q7UUFDRCxJQUFJLE1BQU0sR0FBRyxZQUFZLEdBQUcsQ0FBQyxFQUFFO1lBQzdCLEtBQUssR0FBRyxVQUFVLENBQUM7U0FDcEI7UUFFRCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFFRCxrQkFBa0IsQ0FBQyxNQUFjO1FBQy9CLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2xDLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIFN0YXJSYXRpbmdDb25maWcsXG4gIHN0YXJSYXRpbmdDb2xvcixcbiAgc3RhclJhdGluZ1NpemVzLFxuICBzdGFyUmF0aW5nU3BlZWQsXG4gIHN0YXJSYXRpbmdTdGFyVHlwZXMsXG4gIHN0YXJSYXRpbmdMYWJlbFBvc2l0aW9uLFxufSBmcm9tICcuLi9pbnRlcmZhY2VzL3N0YXItcmF0aW5nLWNvbmZpZy5pbnRlcmZhY2UnO1xuXG4vKipcbiAqIENvbmZpZ3VyYXRpb24gc2VydmljZSBmb3IgdGhlIFN0YXJSYXRpbmcgY29tcG9uZW50LlxuICogWW91IGNhbiBpbmplY3QgdGhpcyBzZXJ2aWNlLCB0eXBpY2FsbHkgaW4geW91ciByb290IGNvbXBvbmVudCwgYW5kIGN1c3RvbWl6ZSB0aGUgdmFsdWVzIG9mIGl0cyBwcm9wZXJ0aWVzIGluXG4gKiBvcmRlciB0byBwcm92aWRlIGRlZmF1bHQgdmFsdWVzIGZvciBhbGwgdGhlIHN0YXIgcmF0aW5ncyB1c2VkIGluIHRoZSBhcHBsaWNhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0YXJSYXRpbmdDb25maWdTZXJ2aWNlIGltcGxlbWVudHMgU3RhclJhdGluZ0NvbmZpZyB7XG4gIF9jbGFzc0VtcHR5ID0gJ2RlZmF1bHQtc3Rhci1lbXB0eS1pY29uJztcblxuICBnZXQgY2xhc3NFbXB0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5fY2xhc3NFbXB0eTtcbiAgfVxuXG4gIHNldCBjbGFzc0VtcHR5KGNsYXNzRW1wdHk6IHN0cmluZykge1xuICAgIHRoaXMuX2NsYXNzRW1wdHkgPSBjbGFzc0VtcHR5O1xuICB9XG5cbiAgcHJpdmF0ZSBfY2xhc3NIYWxmID0gJ2RlZmF1bHQtc3Rhci1oYWxmLWljb24nO1xuXG4gIGdldCBjbGFzc0hhbGYoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fY2xhc3NIYWxmO1xuICB9XG5cbiAgc2V0IGNsYXNzSGFsZihjbGFzc0hhbGY6IHN0cmluZykge1xuICAgIHRoaXMuX2NsYXNzSGFsZiA9IGNsYXNzSGFsZjtcbiAgfVxuXG4gIHByaXZhdGUgX2NsYXNzRmlsbGVkID0gJ2RlZmF1bHQtc3Rhci1maWxsZWQtaWNvbic7XG5cbiAgZ2V0IGNsYXNzRmlsbGVkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2NsYXNzRmlsbGVkO1xuICB9XG5cbiAgc2V0IGNsYXNzRmlsbGVkKGNsYXNzRmlsbGVkOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9jbGFzc0ZpbGxlZCA9IGNsYXNzRmlsbGVkO1xuICB9XG5cbiAgcHJpdmF0ZSBfbnVtT2ZTdGFycyA9IDU7XG5cbiAgZ2V0IG51bU9mU3RhcnMoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fbnVtT2ZTdGFycztcbiAgfVxuXG4gIHNldCBudW1PZlN0YXJzKG51bU9mU3RhcnM6IG51bWJlcikge1xuICAgIHRoaXMuX251bU9mU3RhcnMgPSBudW1PZlN0YXJzO1xuICB9XG5cbiAgcHJpdmF0ZSBfc2l6ZTogc3RhclJhdGluZ1NpemVzID0gJ21lZGl1bSc7XG5cbiAgZ2V0IHNpemUoKTogc3RhclJhdGluZ1NpemVzIHtcbiAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgfVxuXG4gIHNldCBzaXplKHNpemU6IHN0YXJSYXRpbmdTaXplcykge1xuICAgIHRoaXMuX3NpemUgPSBzaXplO1xuICB9XG5cbiAgcHJpdmF0ZSBfc3RhdGljQ29sb3I6IHN0YXJSYXRpbmdDb2xvcjtcblxuICBnZXQgc3RhdGljQ29sb3IoKTogc3RhclJhdGluZ0NvbG9yIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdGljQ29sb3I7XG4gIH1cblxuICBzZXQgc3RhdGljQ29sb3IodmFsdWU6IHN0YXJSYXRpbmdDb2xvcikge1xuICAgIHRoaXMuX3N0YXRpY0NvbG9yID0gdmFsdWU7XG4gIH1cblxuICBwcml2YXRlIF9sYWJlbFBvc2l0aW9uOiBzdGFyUmF0aW5nTGFiZWxQb3NpdGlvbiA9ICdsZWZ0JztcblxuICBnZXQgbGFiZWxQb3NpdGlvbigpOiBzdGFyUmF0aW5nTGFiZWxQb3NpdGlvbiB7XG4gICAgcmV0dXJuIHRoaXMuX2xhYmVsUG9zaXRpb247XG4gIH1cblxuICBzZXQgbGFiZWxQb3NpdGlvbihsYWJlbFBvc2l0aW9uOiBzdGFyUmF0aW5nTGFiZWxQb3NpdGlvbikge1xuICAgIHRoaXMuX2xhYmVsUG9zaXRpb24gPSBsYWJlbFBvc2l0aW9uO1xuICB9XG5cbiAgcHJpdmF0ZSBfc3BlZWQ6IHN0YXJSYXRpbmdTcGVlZCA9ICdub3RpY2VhYmxlJztcblxuICBnZXQgc3BlZWQoKTogc3RhclJhdGluZ1NwZWVkIHtcbiAgICByZXR1cm4gdGhpcy5fc3BlZWQ7XG4gIH1cblxuICBzZXQgc3BlZWQoc3BlZWQ6IHN0YXJSYXRpbmdTcGVlZCkge1xuICAgIHRoaXMuX3NwZWVkID0gc3BlZWQ7XG4gIH1cblxuICBwcml2YXRlIF9zdGFyVHlwZTogc3RhclJhdGluZ1N0YXJUeXBlcyA9ICdzdmcnO1xuXG4gIGdldCBzdGFyVHlwZSgpOiBzdGFyUmF0aW5nU3RhclR5cGVzIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhclR5cGU7XG4gIH1cblxuICBzZXQgc3RhclR5cGUoc3RhclR5cGU6IHN0YXJSYXRpbmdTdGFyVHlwZXMpIHtcbiAgICB0aGlzLl9zdGFyVHlwZSA9IHN0YXJUeXBlO1xuICB9XG5cbiAgcHJpdmF0ZSBfYXNzZXRzUGF0aCA9ICdhc3NldHMvaW1hZ2VzLyc7XG5cbiAgZ2V0IGFzc2V0c1BhdGgoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fYXNzZXRzUGF0aDtcbiAgfVxuXG4gIHNldCBhc3NldHNQYXRoKGFzc2V0c1BhdGg6IHN0cmluZykge1xuICAgIHRoaXMuX2Fzc2V0c1BhdGggPSBhc3NldHNQYXRoO1xuICB9XG5cbiAgcHJpdmF0ZSBfc3ZnUGF0aCA9IHRoaXMuYXNzZXRzUGF0aCArICdzdGFyLXJhdGluZy5pY29ucy5zdmcnO1xuXG4gIGdldCBzdmdQYXRoKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX3N2Z1BhdGg7XG4gIH1cblxuICBzZXQgc3ZnUGF0aChzdmdQYXRoOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9zdmdQYXRoID0gc3ZnUGF0aDtcbiAgfVxuXG4gIHByaXZhdGUgX3N2Z0VtcHR5U3ltYm9sSWQgPSAnc3Rhci1lbXB0eSc7XG5cbiAgZ2V0IHN2Z0VtcHR5U3ltYm9sSWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fc3ZnRW1wdHlTeW1ib2xJZDtcbiAgfVxuXG4gIHNldCBzdmdFbXB0eVN5bWJvbElkKHN2Z0VtcHR5U3ltYm9sSWQ6IHN0cmluZykge1xuICAgIHRoaXMuX3N2Z0VtcHR5U3ltYm9sSWQgPSBzdmdFbXB0eVN5bWJvbElkO1xuICB9XG5cbiAgcHJpdmF0ZSBfc3ZnSGFsZlN5bWJvbElkID0gJ3N0YXItaGFsZic7XG5cbiAgZ2V0IHN2Z0hhbGZTeW1ib2xJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9zdmdIYWxmU3ltYm9sSWQ7XG4gIH1cblxuICBzZXQgc3ZnSGFsZlN5bWJvbElkKHN2Z0hhbGZTeW1ib2xJZDogc3RyaW5nKSB7XG4gICAgdGhpcy5fc3ZnSGFsZlN5bWJvbElkID0gc3ZnSGFsZlN5bWJvbElkO1xuICB9XG5cbiAgcHJpdmF0ZSBfc3ZnRmlsbGVkU3ltYm9sSWQgPSAnc3Rhci1maWxsZWQnO1xuXG4gIGdldCBzdmdGaWxsZWRTeW1ib2xJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9zdmdGaWxsZWRTeW1ib2xJZDtcbiAgfVxuXG4gIHNldCBzdmdGaWxsZWRTeW1ib2xJZChzdmdGaWxsZWRTeW1ib2xJZDogc3RyaW5nKSB7XG4gICAgdGhpcy5fc3ZnRmlsbGVkU3ltYm9sSWQgPSBzdmdGaWxsZWRTeW1ib2xJZDtcbiAgfVxuXG4gIHByaXZhdGUgX3N2Z1BhdGhFbXB0eTogc3RyaW5nID0gdGhpcy5zdmdQYXRoICsgJyMnICsgdGhpcy5zdmdFbXB0eVN5bWJvbElkO1xuXG4gIGdldCBzdmdQYXRoRW1wdHkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fc3ZnUGF0aEVtcHR5O1xuICB9XG5cbiAgc2V0IHN2Z1BhdGhFbXB0eShzdmdQYXRoRW1wdHk6IHN0cmluZykge1xuICAgIHRoaXMuX3N2Z1BhdGhFbXB0eSA9IHN2Z1BhdGhFbXB0eTtcbiAgfVxuXG4gIHByaXZhdGUgX3N2Z1BhdGhIYWxmOiBzdHJpbmcgPSB0aGlzLnN2Z1BhdGggKyAnIycgKyB0aGlzLnN2Z0hhbGZTeW1ib2xJZDtcblxuICBnZXQgc3ZnUGF0aEhhbGYoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fc3ZnUGF0aEhhbGY7XG4gIH1cblxuICBzZXQgc3ZnUGF0aEhhbGYoc3ZnUGF0aEhhbGY6IHN0cmluZykge1xuICAgIHRoaXMuX3N2Z1BhdGhIYWxmID0gc3ZnUGF0aEhhbGY7XG4gIH1cblxuICBwcml2YXRlIF9zdmdQYXRoRmlsbGVkOiBzdHJpbmcgPSB0aGlzLnN2Z1BhdGggKyAnIycgKyB0aGlzLnN2Z0ZpbGxlZFN5bWJvbElkO1xuXG4gIGdldCBzdmdQYXRoRmlsbGVkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX3N2Z1BhdGhGaWxsZWQ7XG4gIH1cblxuICBzZXQgc3ZnUGF0aEZpbGxlZChzdmdQYXRoRmlsbGVkOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9zdmdQYXRoRmlsbGVkID0gc3ZnUGF0aEZpbGxlZDtcbiAgfVxuXG4gIGdldENvbG9yKFxuICAgIHJhdGluZzogbnVtYmVyLFxuICAgIG51bU9mU3RhcnM6IG51bWJlcixcbiAgICBzdGF0aWNDb2xvcj86IHN0YXJSYXRpbmdDb2xvclxuICApOiBzdGFyUmF0aW5nQ29sb3Ige1xuICAgIHJhdGluZyA9IHJhdGluZyB8fCAwO1xuXG4gICAgLy8gaWYgYSBmaXggY29sb3IgaXMgc2V0IHVzZSB0aGlzIG9uZVxuICAgIGlmIChzdGF0aWNDb2xvcikge1xuICAgICAgcmV0dXJuIHN0YXRpY0NvbG9yO1xuICAgIH1cblxuICAgIC8vIGNhbGN1bGF0ZSBzaXplIG9mIHNtYWxsZXN0IGZyYWN0aW9uXG4gICAgY29uc3QgZnJhY3Rpb25TaXplID0gbnVtT2ZTdGFycyAvIDM7XG5cbiAgICAvLyBhcHBseSBjb2xvciBieSBmcmFjdGlvblxuICAgIGxldCBjb2xvcjogc3RhclJhdGluZ0NvbG9yID0gJ2RlZmF1bHQnO1xuICAgIGlmIChyYXRpbmcgPiAwKSB7XG4gICAgICBjb2xvciA9ICduZWdhdGl2ZSc7XG4gICAgfVxuICAgIGlmIChyYXRpbmcgPiBmcmFjdGlvblNpemUpIHtcbiAgICAgIGNvbG9yID0gJ29rJztcbiAgICB9XG4gICAgaWYgKHJhdGluZyA+IGZyYWN0aW9uU2l6ZSAqIDIpIHtcbiAgICAgIGNvbG9yID0gJ3Bvc2l0aXZlJztcbiAgICB9XG5cbiAgICByZXR1cm4gY29sb3I7XG4gIH1cblxuICBnZXRIYWxmU3RhclZpc2libGUocmF0aW5nOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gTWF0aC5hYnMocmF0aW5nICUgMSkgPiAwO1xuICB9XG59XG4iXX0=